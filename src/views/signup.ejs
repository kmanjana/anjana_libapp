<!DOCTYPE html>
<html lang="en">
	<head>
    <link rel="stylesheet" href="/css/signup.css">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<title>SIGN UP</title>
		<meta name="generator" content="Bootply" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	  <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">
    <link rel="shortcut icon" type="image/jpg" href="/images/icon.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/choices.min.css">
    <script src="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/choices.min.js"></script>

    <link href="/css/styles.css" rel="stylesheet">
	</head>
  <style>
  body{
    background-image: url(images/backg3.jpg);
    background-repeat: no-repeat;
    background-size: cover;
    }  
  .register{
  width: 50%;
  
  }
  @media only screen and (max-width: 900px) {
    .register {
      width: 90%;
    }
  }
  form i.fa {
    position:absolute ;
    top: 10px;
    left: 20px;
    color: rgb(82, 80, 80);
    /* color: rgba(250, 249, 245, 0.596); */
    font-size: 18px;
    /* z-index: 9999; */
    }
  form .indicator{
    display: none;
  }
  form .text{
    font-size: 20px;
    font-weight: 700;
    display: none;
    margin-bottom: -10px;
  }
  form .text.weak{
    color: rgb(114, 105, 105);
    color: rgb(230, 171, 171);
  }
  form .text.medium{
    color: orange;
  }
  form .text.strong{
    color: #6cca95;
  }
  .eye{
    position: absolute;
    right: 20px;
    top: 20px;
    color: rgb(82, 80, 80);
    transform: translateY(-50%);
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    display: none;
    user-select: none;
  }
  .form-control{
      border: 1px solid #573b39;
      background-color: rgba(255, 255, 255, 0.788); 
      color: rgb(14, 12, 12);
  }
  .input{
      height: 40px;
  }
  .error{
      color: #d33737;
      font-size: 13px;
      font-weight: 600;
  }
  .alert{
    background-color: rgba(216, 180, 180, 0.705);
    color: rgb(128, 38, 38);
    text-align: center;
  }
  .alert-danger{
    margin-top: 30px;
  }
  </style>
	<body>
    
<!-- form -->
<form action="/signup" method="POST" onsubmit="return validate()">
  <div class="container register" >
    <%if(successsignup!=''){%>
      <div class="alert alert-danger">
        <strong><%=successsignup%></strong>
      </div>
      <%}%> 
          <div class="register-right">
                    <h3 class="register-heading">Sign Up</h3><br>
                    <div class="row register-form">
                      <div class="col-md-6">
                        <div class="form-group">
                            <i class="fa fa-user" ></i>
                                <input type="text" name="fname" id="fname" class="form-control input"  placeholder="First Name *" onkeyup="fnamevald()" title="Can only contain alpahets "  required>
                                <span id="error1"  class="error" ></span>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                            <i class="fa fa-user" ></i>
                            <input type="text" name="lname" id="lname"  class="form-control input" placeholder="Last Name *" onkeyup="lnamevald()" title="Can only contain alpahets " required>
                            <span id="error2" class="error"></span>
                        </div>
                      </div>
                      <div class="col-md-12">
                        <div class="form-group">
                            <i class="fa fa-envelope" ></i>
                            <input type="text" name="email" id="email" class="form-control input" placeholder="Your Email *"onkeyup="emailvald()"  title="Can be of the form abc@xyz.(com)(.co)" value="" aria-describedby="emailHelp" required>
                            <span id="error3" class="error"></span>
                        </div>
                      </div>
                      <div class="col-md-12">
                        <div class="form-group">
                            <i class="fa fa-phone" ></i>
                            <input type="text" name="phno" id="phno" class="form-control input" placeholder="Your Phone *" onkeyup="phnovald()" title="Must be of pattern XXX-XXX-XXXX or XXX.XXX.XXXX or XXX XXX XXX or XXXXXXXXXX" value="" required>
                            <span id="error4" class="error"></span>
                        </div>
                      </div>
                      <div class="col-md-12">
                        <div class="form-group">
                            <i class="fa fa-user-circle-o" ></i>
                            <input type="text" name="username" class="form-control input" placeholder="Username *" value="" required>
                            <span id="error5" class="error"></span>
                        </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                          <i class="fa fa-key" ></i>
                          <input type="password" name="paswd" id="pwd" onkeyup="pwdcheck(),passvald()" class="form-control input" placeholder="Password *" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"  required>
                          <span class="fa fa-eye eye" ></span><span class="fa fa-eye-slash eye" ></span>
                          <span id="error6"class="error"></span>
                          <br>
                          <div class="progress indicator">
                            <div class="progress-bar poor" role="progressbar" ></div>
                            <div class="progress-bar medium " role="progressbar"></div>
                            <div class="progress-bar strong" role="progressbar" ></div>
                          </div><div class="text"></div>
                       </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                            <i class="fa fa-key" ></i>
                            <input type="password" id="confpwd"  onkeyup="shwbtn(),confpass()" class="form-control input"  placeholder="Confirm Password *" value="" required>
                            <span class="fa fa-eye eye conf" ></span><span class="fa fa-eye-slash eye confslash" ></span>
                            <span id="error7" class="error"></span>
                        </div>
                      </div>
                      </div>
                      
                       <div class="mb-3 form-check" style="margin-left: 50px;">
                         <input type="checkbox" class="custom-control-input" id="customCheck1">
                         <label class="custom-control-label" for="customCheck1" style="margin-left: 10px;color:wheat;">I accept the Terms of Use and Privacy Policies.</label>
                      </div>
                      <br>
                      <input type="submit" class="btnsignup"  value="Register" >
                      <br><br>
                        <p class="mb-3" style="color:white;text-align: center;">Already have an account?<a href="/login" style="color:  rgb(215, 218, 228);">Click here to login!</a></p>
                      <br>  
          </div>
                  
      </div>

</form>
<!-- ./form-->

<div class="container" id="footer">
  <div class="row">
    <div class="col col-sm-12">
      
      <h1>Follow Us</h1>
      <div class="btn-group">
       <a class="btn btn-twitter btn-lg" href="#"><i class="icon-twitter icon-large"></i> Twitter</a>
	   <a class="btn btn-facebook btn-lg" href="#"><i class="icon-facebook icon-large"></i> Facebook</a>
	   <a class="btn btn-google-plus btn-lg" href="#"><i class="icon-google-plus icon-large"></i> Google+</a>
      </div>
      
    </div>
  </div>
</div>

<hr>

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-sm-6">
        <ul class="list-inline">
          <li><i class="icon-facebook icon-2x"></i></li>
          <li><i class="icon-twitter icon-2x"></i></li>
          <li><i class="icon-google-plus icon-2x"></i></li>
          <li><i class="icon-pinterest icon-2x"></i></li>
        </ul>
        
      </div>
      <div class="col-sm-6">
          <p class="pull-right">Built with <i class="icon-heart-empty"></i> at <a href="http://www.bootply.com">Bootply</a></p>      
      </div>
    </div>
  </div>
</footer>
	<!-- script references -->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
<script>
//name validation
let fname = document.getElementById("fname");
let error1 = document.getElementById("error1") ;

let lname = document.getElementById("lname");
let error2 = document.getElementById("error2") ;

let names =/^([A-Za-z\. ]+)$/;

function fnamevald(){
    if((names.test(fname.value.trim()))!=1){
      error1.innerHTML="Please enter valid name";
      fname.style.border="1px solid red";
    }
    else{
      error1.innerHTML="";
      fname.style.border="none";
    }
}

function lnamevald(){
    if((names.test(lname.value.trim()))!=1){
      error2.innerHTML="Please enter valid name";
      lname.style.border="1px solid red";
    }
    else{
      error2.innerHTML="";
      lname.style.border="none";
    }
}

//email validation
let email = document.getElementById("email");
let error3 = document.getElementById("error3") ;
let regexp = /^([A-Za-z0-9\.-]+)@([A-Za-z0-9\-]+).([a-z]{2,3})(.[a-z]{2,3}?)$/

function emailvald(){
    if((regexp.test(email.value.trim()))!=1){
        error3.innerHTML="Please enter valid email id";
        email.style.border="1px solid red";
                }
    else{
        error3.innerHTML="";
        email.style.border="none";
    }
}

//phone number validation
let phno = document.getElementById("phno");
let error4 = document.getElementById("error4") ;
let phoneno = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;

function phnovald(){
    if((phoneno.test(phno.value.trim()))!=1){
        error4.innerHTML="Please enter valid phone number";
        phno.style.border="1px solid red";
                }
    else{
        error4.innerHTML="";
        phno.style.border="none";
    }
}

//password validation
let pwd = document.getElementById("pwd");
let error6 = document.getElementById("error6") ;
let confpwd = document.getElementById("confpwd");
let error7 = document.getElementById("error7") ;

const indicator = document.querySelector(".indicator");
const poor = document.querySelector(".poor");
const medium = document.querySelector(".medium");
const strong = document.querySelector(".strong");
const text = document.querySelector(".text");
const showBtn = document.querySelector(".fa-eye");
const showBtn2 = document.querySelector(".fa-eye-slash");
let regExpWeak = /[a-zA-Z]+/;
let regExpMedium = /[0-9]+/;
let regExpStrong = /.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/;

function pwdcheck(){

  if(pwd.value.trim != ""){

    indicator.style.display = "block";
    indicator.style.display = "flex";
    

    if(pwd.value.length <= 3 && (pwd.value.match(regExpWeak) || pwd.value.match(regExpMedium) || pwd.value.match(regExpStrong)))no=1;
    if(pwd.value.length >= 6 && ((pwd.value.match(regExpWeak) && pwd.value.match(regExpMedium)) || (pwd.value.match(regExpMedium) && pwd.value.match(regExpStrong)) || (pwd.value.match(regExpWeak) && pwd.value.match(regExpStrong))))no=2;
    if(pwd.value.length >= 8 && pwd.value.match(regExpWeak) && pwd.value.match(regExpMedium) && pwd.value.match(regExpStrong))no=3;

    if(no==1){
      text.style.display = "block";
      poor.style.width = "33.3%";
      poor.style.backgroundColor = "#d33d4a";
      text.textContent = "Poor";
      text.classList.add("weak");
    }

    if(no==2){
      medium.style.width = "66.6%";
      medium.style.backgroundColor = "orange";
      text.textContent = "Medium";
      text.classList.add("medium");
    }else{
      medium.style.width = "0%";
      text.classList.remove("medium");
    }

    if(no==3){
      medium.style.width = "66.6%";
      strong.style.width = "100%";
      strong.style.backgroundColor = "#6cca95";
      text.textContent = "Strong";
      text.classList.add("strong");
    }else{
      strong.style.width = "0%";
      text.classList.remove("strong");
    }

    showbutton(showBtn,showBtn2,pwd);
  }else{
    indicator.style.display = "none";
    text.style.display = "none";
    showBtn2.style.display = "none";
  }
}

function passvald(){
  if((pwd.value.length) < 8 ){
    error6.innerHTML="Password field must atleast contain 8 characters";
    pwd.style.border="1px solid red";
  }
  else{
    if(text.textContent != "Strong"){
      error6.innerHTML="Password must be strong";
      pwd.style.border="1px solid red";         
    }
    else{
      error6.innerHTML="";
      pwd.style.border="none";
    }
  }
}

function confpass(){
  if((pwd.value) != (confpwd.value)){
    error7.innerHTML="Passwords must be same";
    confpwd.style.border="1px solid red";
  }
  else{
    error7.innerHTML="";
    confpwd.style.border="none";
  }
}

//onsubmit of form 
function validate(){
    if ((error1.innerHTML != "") || (error2.innerHTML != "") || 
        (error3.innerHTML != "") || (error4.innerHTML != "") ||
        (error6.innerHTML != "") || (error7.innerHTML != "") ){
           return false;
    }
    else {
         return true;
    }
}

// function for show button     
function showbutton(showBtn,showBtn2,pwd){
  showBtn.style.display = "block";
  showBtn.onclick = function(){
    if(pwd.type == "password"){
      pwd.type = "text";
      showBtn2.style.display = "block";
      showBtn.style.display = "none";
    }else{
      pwd.type = "password";
      showBtn.style.display = "block";
      showBtn2.style.display = "none";
    }
  }
  showBtn2.onclick = function(){
    if(pwd.type == "text"){
      pwd.type = "password";
      showBtn.style.display = "block";
      showBtn2.style.display = "none";
    }else{
      pwd.type = "text";
      showBtn2.style.display = "block";
      showBtn.style.display = "none";
    }
  }
}

function shwbtn(){
  const showBtn = document.querySelector(".conf");
  const showBtn2 = document.querySelector(".confslash");
  const input = document.getElementById("confpwd");
  showbutton(showBtn,showBtn2,input);
}

</script>
	</body>
</html>